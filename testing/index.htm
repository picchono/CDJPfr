<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/tiny-slider.css">
    <style>
        .item {
            display: block;
            background-color: rgb(238, 228, 228);
            width: 80%;
            padding: 10px;
            border: 1px solid rgb(255, 132, 0);
            border-radius: 20px;
        }

        .contain {
            width: 100px;
            margin: 50px auto;
        }

        .tns-nav {
            text-align: center;
            width: 100%;
        }

        .tns-nav button {
            height: 12px;
            margin: 20px 2px 0;
        }
    </style>
</head>

<body>
    <div class="slider-container">
        <div id="nested_wrapper">
            <div id="nested">
                <div class="item">
                    <div id="innested_wrapper">
                        <div id="innested">
                            <div class="item">
                                <div>0</div>
                                <div>Sunt dignissimos distinctio, veniam, tenetur aspernatur nulla!</div>
                            </div>
                            <div class="item">
                                <div>1</div>
                                <div>Corrupti, libero minima nihil expedita officiis? Quo.</div>
                            </div>
                            <div class="item">
                                <div>2</div>
                                <div>Alias rem, ab impedit recusandae repellat tempore.</div>
                            </div>
                            <div class="item">
                                <div>3</div>
                                <div>Nisi inventore quo delectus perspiciatis voluptatibus, quae.</div>
                            </div>
                            <div class="item">
                                <div>4</div>
                                <div>Nisi harum earum consectetur laudantium iusto, laboriosam.</div>
                            </div>
                            <div class="item">
                                <div>5</div>
                                <div>Dolores blanditiis neque, quis vitae? Reprehenderit, aliquam.</div>
                            </div>
                            <div class="item">
                                <div>6</div>
                                <div>Omnis dolorum eum blanditiis, ratione voluptates quod.</div>
                            </div>
                            <div class="item">
                                <div>7</div>
                                <div>Nisi harum earum consectetur laudantium iusto, laboriosam.</div>
                            </div>
                            <div class="item">
                                <div>8</div>
                                <div>Dolores blanditiis neque, quis vitae? Reprehenderit, aliquam.</div>
                            </div>
                            <div class="item">
                                <div>9</div>
                                <div>Omnis dolorum eum blanditiis, ratione voluptates quod.</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div>1</div>
                    <div>Corrupti, libero minima nihil expedita officiis? Quo.</div>
                </div>
                <div class="item">
                    <div>2</div>
                    <div>Alias rem, ab impedit recusandae repellat tempore.</div>
                </div>
                <div class="item">
                    <div>3</div>
                    <div>Nisi inventore quo delectus perspiciatis voluptatibus, quae.</div>
                </div>
                <div class="item">
                    <div>4</div>
                    <div>Nisi harum earum consectetur laudantium iusto, laboriosam.</div>
                </div>
                <div class="item">
                    <div>5</div>
                    <div>Dolores blanditiis neque, quis vitae? Reprehenderit, aliquam.</div>
                </div>
                <div class="item">
                    <div>6</div>
                    <div>Omnis dolorum eum blanditiis, ratione voluptates quod.</div>
                </div>
            </div>
        </div>
    </div>
    <script>
        var doc = document,
            slideList = doc.querySelectorAll('.slider-container > div'),
            pageNavContainer = doc.querySelector('.nav'),
            pageNav = doc.querySelector('.nav ul'),
            toggleHandle = doc.querySelector('.nav-toggle-handle'),
            divider = window.innerHeight / 2,
            scrollTimer,
            resizeTimer;

        var mobile = 'false',
            isTestPage = false,
            classIn = 'jello',
            classOut = 'rollOut',
            speed = 400,
            doc = document,
            win = window,
            ww = win.innerWidth || doc.documentElement.clientWidth || doc.body.clientWidth,
            fw = getFW(ww),
            initFns = {},
            sliders = new Object(),
            edgepadding = 50,
            gutter = 10;

        toggleHandle.onclick = function () {
            var classN = pageNavContainer.className;
            pageNavContainer.className = (classN.indexOf(' active') > 0) ? classN.replace(' active', '') : classN + ' active';
        };

        if (window.addEventListener) {
            window.addEventListener('scroll', function () {
                clearTimeout(scrollTimer);

                scrollTimer = setTimeout(function () {
                    [].forEach.call(slideList, function (el) {
                        var rect = el.getBoundingClientRect(),
                            navLink = pageNav.querySelector('[href="#' + el.id + '"]');
                        if (rect.top <= divider && rect.bottom > divider) {
                            if (navLink.className !== 'active') { navLink.className = 'active'; }
                        } else {
                            if (navLink.className !== '') { navLink.className = ''; }
                        }
                    });
                }, 100);
            });

            window.addEventListener('resize', function () {
                clearTimeout(resizeTimer);

                resizeTimer = setTimeout(function () {
                    divider = window.innerHeight / 2;
                }, 100);
            });

            pageNav.addEventListener('click', function () {
                var classN = pageNavContainer.className;
                if (classN.indexOf(' active') > 0) { pageNavContainer.className = classN.replace(' active', ''); }
            });
        }



        function getFW(width) {
            var sm = 400, md = 900, lg = 1400;
            return width < sm ? 150 : width >= sm && width < md ? 200 : width >= md && width < lg ? 300 : 400;
        }
        window.addEventListener('resize', function () { fw = getFW(ww); });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.2/min/tiny-slider.js"></script>
    <script>

        var options = {
            'innested': {
                container: 'innested',
                items: 3,
                nested: 'inner',
                edgePadding: 20,
                loop: false,
                slideBy: 'page',
                swipeAngle: false,
                mouseDrag: true,
                speed: 400,
                navPosition: 'bottom',
                axis: 'vertical',
                'lazyload': true,
                'touch': true,
                'controls': false
            },
            'nested': {
                container: 'nested',
                items: 2,
                loop: false,
                nested: 'outer',
                swipeAngle: false,
                mouseDrag: true,
                speed: 400,
                navPosition: 'bottom',
                'lazyload': true,
                'touch': true,
                'controls': false
            }
        };

        for (var i in options) {
            var item = options[i];
            item.container = '#' + i;
            item.swipeAngle = false;
            if (!item.speed) { item.speed = speed; }

            if (doc.querySelector(item.container)) {
                sliders[i] = tns(options[i]);

                // call test functions
                if (isTestPage && initFns[i]) { initFns[i](); }

               // test responsive pages
            } else if (i.indexOf('responsive') >= 0) {
                if (isTestPage && initFns[i]) { initFns[i](); }
            }
        }

        // goto
        if (doc.querySelector('#base_wrapper')) {
            var goto = doc.querySelector('#base_wrapper .goto-controls'),
                gotoBtn = goto.querySelector('.button'),
                gotoInput = goto.querySelector('input');

            gotoBtn.onclick = function (event) {
                var index = gotoInput.value;
                sliders['base'].goTo(index);
            };
        }

    </script>
</body>

</html>